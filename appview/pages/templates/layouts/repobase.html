{{ define "title" }}{{ .RepoInfo.FullName }}{{ end }}

{{ define "content" }}

    <section id="repo-header">
        <h1>{{ .RepoInfo.FullName }}</h1>
        {{ if .RepoInfo.Description }}
            <h3 class="desc">{{ .RepoInfo.Description }}</h3>
        {{ else }}
            <em>this repo has no description</em>
        {{ end }}
    </section>
    <section id="repo-links" class="min-h-screen flex flex-col">
      <nav class="w-full mx-auto">
        <div class="flex z-60 border-black border-b">
          {{ $activeTabStyles := "border-black border-l border-r border-t border-b-0 -mb-px bg-white" }}
          {{ $tabs := assoc "overview" "/"  "issues" "/issues"  "pulls" "/pulls"  "settings" "/settings" }}
          {{ range $item := $tabs }}
            {{ $key := index $item 0 }}
            {{ $value := index $item 1 }}
            <a
              href="/{{ $.RepoInfo.FullName }}{{ $value }}"
              class="relative -mr-px group no-underline"
              hx-boost="true"
            >
              <div
                  class="px-4 py-2 mr-1 text-black min-w-[80px] text-center text-sm relative group-hover:bg-gray-50
                         {{ if eq $.Active $key }}{{ $activeTabStyles }}{{ end }}"
                  >
                  {{ $key }}
              </div>
            </a>
            {{ end}}
        </div>
      </nav>
      <section
          class="bg-white p-6 min-h-[200px] border-l border-r border-b border-black relative z-20 w-full mx-auto"
          >
          {{ block "repoContent" . }}{{ end }}
      </section>
    </section>
{{ end }}

{{ define "layouts/repobase" }}
    {{ template "layouts/base" . }}
{{ end }}
